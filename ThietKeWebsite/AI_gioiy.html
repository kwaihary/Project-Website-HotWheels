<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI G·ª£i √Ω m√≥n ƒÉn - B·∫øp Vi·ªát 4.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Animation cho n√∫t AI */
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 15px rgba(239, 68, 68, 0.5); }
            50% { box-shadow: 0 0 25px rgba(239, 68, 68, 0.8); }
        }
        .ai-btn-glow { animation: pulse-glow 2s infinite; }

        /* Hi·ªáu ·ª©ng loading */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #dc2626;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800">

    <nav class="bg-white shadow-sm fixed w-full z-50 top-0 h-16">
        <div class="container mx-auto px-4 h-full flex justify-between items-center max-w-7xl">
            <div class="flex items-center gap-2 w-auto">
                <a href="index.html" class="flex items-center gap-2 decoration-0">
                    <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-xl">B</div>
                    <span class="text-2xl font-bold text-red-600 hidden md:block">B·∫øpVi·ªát<span class="text-gray-700">4.0</span></span>
                </a>
            </div>
            <div class="flex items-center gap-4">
                <button class="bg-red-50 text-red-600 px-4 py-1.5 rounded-full text-sm font-bold">
                    <i class="fa-solid fa-coins"></i> 50 AI Points
                </button>
                <img src="https://i.pravatar.cc/150?img=32" class="w-10 h-10 rounded-full border cursor-pointer">
            </div>
        </div>
    </nav>

    <div class="container mx-auto pt-24 pb-10 px-4 max-w-5xl">
        
        <div class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-3">
                H√¥m nay <span class="text-red-600">t·ªß l·∫°nh</span> nh√† b·∫°n c√≥ g√¨?
            </h1>
            <p class="text-gray-500 text-lg">Ch·ªçn √≠t nh·∫•t 3 nguy√™n li·ªáu, AI s·∫Ω gi√∫p b·∫°n tr·ªü th√†nh ƒë·∫ßu b·∫øp t√†i ba!</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <div class="lg:col-span-5 space-y-6">
                
                <div class="bg-white rounded-2xl shadow-lg p-6 border border-red-50 relative overflow-hidden">
                    <i class="fa-solid fa-kitchen-set absolute -right-6 -bottom-6 text-9xl text-gray-50 opacity-50 z-0"></i>
                    
                    <div class="relative z-10">
                        <label class="font-bold text-gray-700 block mb-2">Th√™m nguy√™n li·ªáu:</label>
                        <div class="relative">
                            <input type="text" id="ingredientInput" class="w-full bg-gray-100 border-none rounded-xl py-3 pl-10 pr-4 focus:ring-2 focus:ring-red-400 focus:outline-none transition" placeholder="G√µ t√™n (v√≠ d·ª•: Tr·ª©ng, C√† chua)...">
                            <i class="fa-solid fa-magnifying-glass absolute left-3.5 top-3.5 text-gray-400"></i>
                            <button onclick="addInputItem()" class="absolute right-2 top-1.5 bg-gray-200 hover:bg-red-500 hover:text-white text-gray-600 px-3 py-1.5 rounded-lg text-sm font-bold transition">Th√™m</button>
                        </div>

                        <div class="mt-6">
                            <h3 class="text-sm font-bold text-gray-400 uppercase mb-3 flex justify-between">
                                <span>Trong t·ªß l·∫°nh ƒëang c√≥:</span>
                                <span id="itemCount" class="text-red-500">0 m√≥n</span>
                            </h3>
                            
                            <div id="fridgeList" class="min-h-[100px] bg-red-50/50 rounded-xl p-3 flex flex-wrap gap-2 border-2 border-dashed border-red-100">
                                <div id="emptyState" class="w-full h-full flex flex-col items-center justify-center text-gray-400 py-4">
                                    <i class="fa-regular fa-face-surprise text-3xl mb-2"></i>
                                    <span class="text-sm">T·ªß l·∫°nh ƒëang tr·ªëng tr∆°n...</span>
                                </div>
                                </div>
                        </div>

                        <div class="mt-6 pt-4 border-t border-gray-100">
                            <div class="flex justify-between items-center mb-2 cursor-pointer" onclick="document.getElementById('advancedOptions').classList.toggle('hidden')">
                                <span class="font-bold text-gray-700 text-sm">T√πy ch·ªçn n√¢ng cao</span>
                                <i class="fa-solid fa-chevron-down text-gray-400 text-xs"></i>
                            </div>
                            <div id="advancedOptions" class="hidden grid grid-cols-2 gap-3 mt-2">
                                <label class="flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded cursor-pointer">
                                    <input type="checkbox" class="accent-red-600"> M√≥n chay
                                </label>
                                <label class="flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-2 rounded cursor-pointer">
                                    <input type="checkbox" class="accent-red-600"> D∆∞·ªõi 30 ph√∫t
                                </label>
                            </div>
                        </div>

                        <button onclick="findRecipes()" class="w-full mt-6 bg-gradient-to-r from-red-600 to-orange-500 text-white text-lg font-bold py-3.5 rounded-xl shadow-lg hover:shadow-xl transition transform hover:-translate-y-1 flex items-center justify-center gap-2 ai-btn-glow">
                            <i class="fa-solid fa-wand-magic-sparkles"></i> G·ª£i √Ω m√≥n ngay
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm p-5">
                    <h3 class="font-bold text-gray-800 mb-3 text-sm">Ph·ªï bi·∫øn nh·∫•t</h3>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="addQuickItem('ü•ö Tr·ª©ng')" class="bg-gray-100 hover:bg-red-100 hover:text-red-600 text-gray-700 px-3 py-1.5 rounded-full text-sm transition border border-transparent hover:border-red-200">+ ü•ö Tr·ª©ng</button>
                        <button onclick="addQuickItem('ü•© Th·ªãt b√≤')" class="bg-gray-100 hover:bg-red-100 hover:text-red-600 text-gray-700 px-3 py-1.5 rounded-full text-sm transition border border-transparent hover:border-red-200">+ ü•© Th·ªãt b√≤</button>
                        <button onclick="addQuickItem('üçÖ C√† chua')" class="bg-gray-100 hover:bg-red-100 hover:text-red-600 text-gray-700 px-3 py-1.5 rounded-full text-sm transition border border-transparent hover:border-red-200">+ üçÖ C√† chua</button>
                        <button onclick="addQuickItem('ü•¨ Rau c·∫£i')" class="bg-gray-100 hover:bg-red-100 hover:text-red-600 text-gray-700 px-3 py-1.5 rounded-full text-sm transition border border-transparent hover:border-red-200">+ ü•¨ Rau c·∫£i</button>
                        <button onclick="addQuickItem('ü•î Khoai t√¢y')" class="bg-gray-100 hover:bg-red-100 hover:text-red-600 text-gray-700 px-3 py-1.5 rounded-full text-sm transition border border-transparent hover:border-red-200">+ ü•î Khoai t√¢y</button>
                        <button onclick="addQuickItem('üçû ƒê·∫≠u ph·ª•')" class="bg-gray-100 hover:bg-red-100 hover:text-red-600 text-gray-700 px-3 py-1.5 rounded-full text-sm transition border border-transparent hover:border-red-200">+ üçû ƒê·∫≠u ph·ª•</button>
                    </div>
                </div>

            </div>

            <div class="lg:col-span-7">
                
                <div id="loadingArea" class="hidden h-64 flex flex-col items-center justify-center bg-white rounded-2xl shadow-sm">
                    <div class="loader mb-4"></div>
                    <p class="text-gray-500 font-medium">AI ƒëang l·ª•c l·ªçi c√¥ng th·ª©c ph√π h·ª£p...</p>
                </div>

                <div id="resultArea" class="hidden space-y-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-xl font-bold text-gray-800">K·∫øt qu·∫£: <span class="text-red-600">3 m√≥n ƒÉn</span> ph√π h·ª£p</h2>
                        <select class="bg-white border-none text-sm text-gray-500 focus:ring-0 cursor-pointer">
                            <option>ƒê·ªô ph√π h·ª£p cao nh·∫•t</option>
                            <option>Th·ªùi gian n·∫•u nhanh nh·∫•t</option>
                        </select>
                    </div>

                    <div class="bg-white rounded-xl shadow-md overflow-hidden flex flex-col sm:flex-row hover:shadow-lg transition group border border-green-200 relative">
                        <div class="absolute top-0 left-0 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-br-lg z-10 shadow-sm">
                            <i class="fa-solid fa-check-circle"></i> Ph√π h·ª£p 100%
                        </div>
                        
                        <div class="sm:w-5/12 relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1598514983318-2f64f8f4796c" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                        </div>
                        <div class="p-5 sm:w-7/12 flex flex-col justify-between">
                            <div>
                                <h3 class="font-bold text-lg text-gray-800 mb-2 group-hover:text-red-600 transition">Tr·ª©ng chi√™n c√† chua</h3>
                                <p class="text-gray-500 text-sm mb-3">M√≥n ƒÉn qu·ªëc d√¢n, t·∫≠n d·ª•ng ho√†n h·∫£o Tr·ª©ng v√† C√† chua b·∫°n ƒëang c√≥.</p>
                                <div class="flex gap-3 text-xs font-medium text-gray-500">
                                    <span class="bg-gray-100 px-2 py-1 rounded"><i class="fa-regular fa-clock"></i> 10p</span>
                                    <span class="bg-gray-100 px-2 py-1 rounded"><i class="fa-solid fa-fire"></i> 150 Kcal</span>
                                    <span class="bg-gray-100 px-2 py-1 rounded"><i class="fa-solid fa-utensils"></i> D·ªÖ</span>
                                </div>
                            </div>
                            <div class="mt-4 flex gap-2">
                                <button class="flex-1 bg-red-600 text-white py-2 rounded-lg font-bold text-sm hover:bg-red-700 transition">Xem c√°ch l√†m</button>
                                <button class="bg-red-50 text-red-600 px-3 rounded-lg hover:bg-red-100"><i class="fa-regular fa-heart"></i></button>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm overflow-hidden flex flex-col sm:flex-row hover:shadow-lg transition group border border-yellow-200 relative">
                        <div class="absolute top-0 left-0 bg-yellow-400 text-white text-xs font-bold px-3 py-1 rounded-br-lg z-10 shadow-sm">
                            <i class="fa-solid fa-circle-exclamation"></i> Thi·∫øu 1 nguy√™n li·ªáu
                        </div>

                        <div class="sm:w-5/12 relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                        </div>
                        <div class="p-5 sm:w-7/12 flex flex-col justify-between">
                            <div>
                                <h3 class="font-bold text-lg text-gray-800 mb-2 group-hover:text-red-600 transition">Salad Tr·ª©ng & Rau m·∫ßm</h3>
                                <p class="text-gray-500 text-sm mb-3">B·∫°n c√≥ Tr·ª©ng, C√† chua. Ch·ªâ c·∫ßn th√™m ch√∫t rau m·∫ßm l√† tuy·ªát v·ªùi.</p>
                                
                                <div class="bg-red-50 text-red-700 text-xs px-2 py-1.5 rounded mb-3 inline-block font-medium">
                                    <i class="fa-solid fa-basket-shopping mr-1"></i> Thi·∫øu: Rau m·∫ßm
                                </div>

                                <div class="flex gap-3 text-xs font-medium text-gray-500">
                                    <span class="bg-gray-100 px-2 py-1 rounded"><i class="fa-regular fa-clock"></i> 15p</span>
                                    <span class="bg-gray-100 px-2 py-1 rounded"><i class="fa-solid fa-fire"></i> 200 Kcal</span>
                                </div>
                            </div>
                            <div class="mt-4 flex gap-2">
                                <button class="flex-1 bg-white border border-gray-300 text-gray-700 py-2 rounded-lg font-bold text-sm hover:bg-gray-50 transition">Xem chi ti·∫øt</button>
                                <button class="bg-red-50 text-red-600 px-3 rounded-lg hover:bg-red-100" title="Th√™m Rau m·∫ßm v√†o gi·ªè h√†ng"><i class="fa-solid fa-cart-plus"></i></button>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm overflow-hidden flex flex-col sm:flex-row hover:shadow-lg transition group relative opacity-75 hover:opacity-100">
                         <div class="absolute top-0 left-0 bg-gray-400 text-white text-xs font-bold px-3 py-1 rounded-br-lg z-10 shadow-sm">
                            <i class="fa-solid fa-puzzle-piece"></i> S√°ng t·∫°o
                        </div>
                        <div class="sm:w-5/12 relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                        </div>
                        <div class="p-5 sm:w-7/12 flex flex-col justify-between">
                            <div>
                                <h3 class="font-bold text-lg text-gray-800 mb-2">Canh C√† chua tr·ª©ng</h3>
                                <p class="text-gray-500 text-sm mb-3">M√≥n canh ƒë∆°n gi·∫£n, d·ªÖ l√†m cho ng√†y b·∫≠n r·ªôn.</p>
                                <div class="bg-red-50 text-red-700 text-xs px-2 py-1.5 rounded mb-3 inline-block font-medium">
                                    <i class="fa-solid fa-basket-shopping mr-1"></i> Thi·∫øu: H√†nh l√°
                                </div>
                            </div>
                             <div class="mt-4 flex gap-2">
                                <button class="flex-1 bg-white border border-gray-300 text-gray-700 py-2 rounded-lg font-bold text-sm hover:bg-gray-50 transition">Xem chi ti·∫øt</button>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="introArea" class="h-full flex flex-col items-center justify-center text-center p-10 opacity-60">
                    <img src="https://cdn-icons-png.flaticon.com/512/2927/2927347.png" class="w-48 mb-6 grayscale">
                    <h3 class="text-xl font-bold text-gray-400">K·∫øt qu·∫£ s·∫Ω hi·ªán ·ªü ƒë√¢y</h3>
                    <p class="text-sm text-gray-400">H√£y nh·∫≠p nguy√™n li·ªáu v√† ƒë·ªÉ AI tr·ªï t√†i nh√©!</p>
                </div>

            </div>
        </div>
    </div>

    <script>
        const fridgeList = document.getElementById('fridgeList');
        const emptyState = document.getElementById('emptyState');
        const itemCount = document.getElementById('itemCount');
        let ingredients = [];

        // H√†m th√™m nguy√™n li·ªáu
        function addInputItem() {
            const input = document.getElementById('ingredientInput');
            const val = input.value.trim();
            if(val) {
                addQuickItem(val);
                input.value = '';
                input.focus();
            }
        }

        // X·ª≠ l√Ω khi nh·∫•n Enter
        document.getElementById('ingredientInput').addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                addInputItem();
            }
        });

        // Logic th√™m Item v√†o m·∫£ng v√† render
        function addQuickItem(name) {
            // X√≥a icon trang tr√≠ n·∫øu c√≥ ƒë·ªÉ tr√°nh l·∫∑p
            const cleanName = name; 
            
            if (!ingredients.includes(cleanName)) {
                ingredients.push(cleanName);
                renderFridge();
            }
        }

        function removeItem(index) {
            ingredients.splice(index, 1);
            renderFridge();
        }

        function renderFridge() {
            if (ingredients.length > 0) {
                emptyState.classList.add('hidden');
                itemCount.innerText = ingredients.length + " m√≥n";
                
                // Clear current list (gi·ªØ l·∫°i emptyState div nh∆∞ng ·∫©n n√≥)
                fridgeList.innerHTML = '';
                fridgeList.appendChild(emptyState);

                ingredients.forEach((item, index) => {
                    const tag = document.createElement('div');
                    tag.className = 'bg-white text-gray-800 px-3 py-1.5 rounded-lg shadow-sm border border-gray-200 flex items-center gap-2 animate-pulse-once';
                    tag.innerHTML = `
                        <span class="font-medium text-sm">${item}</span>
                        <button onclick="removeItem(${index})" class="text-gray-400 hover:text-red-500"><i class="fa-solid fa-xmark"></i></button>
                    `;
                    fridgeList.appendChild(tag);
                });
            } else {
                emptyState.classList.remove('hidden');
                itemCount.innerText = "0 m√≥n";
                // X√≥a h·∫øt c√°c th·∫ª con tr·ª´ emptyState
                while (fridgeList.lastElementChild !== emptyState) {
                    fridgeList.removeChild(fridgeList.lastElementChild);
                }
            }
        }

        // Logic gi·∫£ l·∫≠p AI t√¨m ki·∫øm
        function findRecipes() {
            if (ingredients.length === 0) {
                alert("B·∫°n ∆°i, t·ªß l·∫°nh ƒëang tr·ªëng! H√£y th√™m √≠t nh·∫•t 1 nguy√™n li·ªáu nh√©.");
                return;
            }

            const introArea = document.getElementById('introArea');
            const loadingArea = document.getElementById('loadingArea');
            const resultArea = document.getElementById('resultArea');

            // 1. ·∫®n Intro, Hi·ªán Loading
            introArea.classList.add('hidden');
            resultArea.classList.add('hidden');
            loadingArea.classList.remove('hidden');

            // 2. Gi·∫£ l·∫≠p delay 1.5 gi√¢y
            setTimeout(() => {
                loadingArea.classList.add('hidden');
                resultArea.classList.remove('hidden');
                
                // Scroll xu·ªëng k·∫øt qu·∫£ tr√™n mobile
                if(window.innerWidth < 1024) {
                    resultArea.scrollIntoView({behavior: "smooth"});
                }
            }, 1500);
        }
    </script>

</body>
</html>